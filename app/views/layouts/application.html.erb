<!DOCTYPE html>
<html>
  <head>
    <title>Media Ranker</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <header class="app-header__header">
      <h1>
        <%= link_to 'Media Ranker', root_path %>
        <small>Ranking the Best of Everything</small>
      </h1>

      <nav class="navbar">
        <ul class="nav">
          <li class="nav-item">
            <%= link_to 'View Top Media', root_path, class: 'nav-link' %>
          </li>
          <li class="nav-item">
            <%= link_to 'View All Media', works_path, class: 'nav-link' %>
          </li>
          <li class="nav-item">
            <%= link_to 'Add New Work', new_work_path, class: 'nav-link' %>
          </li>
          <li class="nav-item">
            <%= link_to 'View All Users Link', users_path, class: 'nav-link' %>
          </li>
        </ul>
        <ul class="nav user-area">
          <% if session[:user_id] %>
          <li>
            Logged in as <%= User.find_by(id: session[:user_id]).username %>
          </li>
          <% end %>
          <li class="nav-item">
            <% if session[:user_id] %>
              <%= link_to 'Logout', logout_path, method: :post, class: 'nav-link' %>
            <% else %>
              <%= link_to 'Login', login_path, class: 'nav-link' %>
            <% end %>
          </li>
        </ul>
      </nav>
    </header>

    <main>
      <% flash.each do |type, msg| %>
        <div class="alert alert-info">
          <%= msg %>
        </div>
      <% end %>

      <%= yield %>
    </main>

  </body>
</html>
